<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="lib/jquery.js"></script>
	<script src="lib/underscore.js"></script>
	<script src="lib/backbone.js"></script>
</head>
<body>
	<div id="user-card"></div>

	<script type="text/template" id="user-template">
	<a href="/users/<%= username %>">
		<h1><%= displayName %></h1>
		<p><%= bio %></p>
	</a>
	</script>
	<script>
	$(function () {
		var User = Backbone.Model.extend({});
		var user = new User({
			username: 'evilcige',
			displayName: 'OriginalSoul',
			bio: 'Some nerd'
		});

		var UserView = Backbone.View.extend({
			el: '#user-card',
			template: _.template($("#user-template").text()),

			initialize: function () {
				this.model.on("change", this.render, this);
				this.render();
			},

			render: function () {
				var compiled = this.template(this.model.toJSON());

				this.$el.html(compiled);
				return this;
			}
		});

		var userView = new UserView({
			model: user
		});

		setTimeout(function () {
			user.set('bio','Change Show');
		}, 2000);
	});
	</script>
</body>
</html>